{"ast":null,"code":"import { createAsyncThunk } from \"@reduxjs/toolkit\";\n\n// Action pour la connexion\nexport const signIn = createAsyncThunk(\"auth/signIn\", async ({\n  email,\n  password\n}, thunkAPI) => {\n  try {\n    // Appel API pour la connexion\n    const response = await fetch(\"http://localhost:3001/api/v1/user/login\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        email,\n        password\n      })\n    });\n    if (!response.ok) {\n      // Gestion des erreurs de l'API, transmettre correctement au reducer\n      const error = await response.json();\n      return thunkAPI.rejectWithValue({\n        erreur: error.value\n      });\n    }\n    const user = await response.json();\n    return user;\n  } catch (error) {\n    // Gestion des erreurs réseau\n    return thunkAPI.rejectWithValue({\n      erreur: error.value\n    });\n  }\n});\nexport const updateUserInfo = createAsyncThunk(\"auth/signin/profile\", async (data, thunkAPI) => {\n  try {\n    // Appel API pour les données du profil connecté\n    const response = await fetch(\"http://localhost:3001/api/v1/user/profile\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(data)\n    });\n    if (!response.ok) {\n      // Gestion des erreurs de l'API, transmettre correctement au reducer\n      const error = await response.json();\n      return thunkAPI.rejectWithValue({\n        erreur: error.value\n      });\n    }\n    const updatedUser = await response.json();\n    return updatedUser;\n  } catch (error) {\n    // Gestion des erreurs réseau\n    return thunkAPI.rejectWithValue({\n      erreur: error.value\n    });\n  }\n});\n\n// Action pour la déconnexion\nexport const signOut = createAsyncThunk(\"auth/signOut\", async () => {\n  // Appel API pour la déconnexion\n  await fetch(\"/api/logout\", {\n    method: \"POST\"\n  });\n\n  // Retourne un objet vide pour indiquer que la déconnexion a réussi\n  return {};\n});\n\n/*import { createAsyncThunk } from \"@reduxjs/toolkit\";\r\n\r\n// Action pour la connexion\r\nexport const signIn = createAsyncThunk(\r\n  \"auth/signIn\",\r\n  async ({ email, password }, thunkAPI) => {\r\n    try {\r\n      // Appel API pour la connexion\r\n      const response = await fetch(\"http://localhost:3001/api/v1/user/login\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ email, password }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        // Gestion des erreurs de l'API, transmettre correctment au  reducer\r\n        const error = await response.json();\r\n        thunkAPI.rejectWithValue({ erreur: error.value });\r\n        console.log(error);\r\n      }\r\n\r\n      const user = await response.json();\r\n      return user;\r\n    } catch (error) {\r\n      // Gestion des erreurs réseau\r\n      thunkAPI.rejectWithValue({ erreur: error.value });\r\n      console.log(error);\r\n    }\r\n  }\r\n);\r\n\r\n// Action pour la déconnexion\r\nexport const signOut = createAsyncThunk(\"auth/signOut\", async () => {\r\n  // Appel API pour la déconnexion\r\n  await fetch(\"/api/logout\", {\r\n    method: \"POST\",\r\n  });\r\n\r\n  // Retourne un objet vide pour indiquer que la déconnexion a réussi\r\n  return {};\r\n});*/","map":{"version":3,"names":["createAsyncThunk","signIn","email","password","thunkAPI","response","fetch","method","headers","body","JSON","stringify","ok","error","json","rejectWithValue","erreur","value","user","updateUserInfo","data","updatedUser","signOut"],"sources":["C:/Users/elodi/OneDrive/Documents/ArgentBank-website/FrontEnd/src/actions/authActions.js"],"sourcesContent":["import { createAsyncThunk } from \"@reduxjs/toolkit\";\r\n\r\n// Action pour la connexion\r\nexport const signIn = createAsyncThunk(\r\n  \"auth/signIn\",\r\n  async ({ email, password }, thunkAPI) => {\r\n    try {\r\n      // Appel API pour la connexion\r\n      const response = await fetch(\"http://localhost:3001/api/v1/user/login\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ email, password }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        // Gestion des erreurs de l'API, transmettre correctement au reducer\r\n        const error = await response.json();\r\n        return thunkAPI.rejectWithValue({ erreur: error.value });\r\n      }\r\n\r\n      const user = await response.json();\r\n      return user;\r\n    } catch (error) {\r\n      // Gestion des erreurs réseau\r\n      return thunkAPI.rejectWithValue({ erreur: error.value });\r\n    }\r\n  }\r\n);\r\n\r\nexport const updateUserInfo = createAsyncThunk(\r\n  \"auth/signin/profile\",\r\n  async (data, thunkAPI) => {\r\n    try {\r\n      // Appel API pour les données du profil connecté\r\n      const response = await fetch(\r\n        \"http://localhost:3001/api/v1/user/profile\",\r\n        {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify(data),\r\n        }\r\n      );\r\n\r\n      if (!response.ok) {\r\n        // Gestion des erreurs de l'API, transmettre correctement au reducer\r\n        const error = await response.json();\r\n        return thunkAPI.rejectWithValue({ erreur: error.value });\r\n      }\r\n\r\n      const updatedUser = await response.json();\r\n      return updatedUser;\r\n    } catch (error) {\r\n      // Gestion des erreurs réseau\r\n      return thunkAPI.rejectWithValue({ erreur: error.value });\r\n    }\r\n  }\r\n);\r\n\r\n// Action pour la déconnexion\r\nexport const signOut = createAsyncThunk(\"auth/signOut\", async () => {\r\n  // Appel API pour la déconnexion\r\n  await fetch(\"/api/logout\", {\r\n    method: \"POST\",\r\n  });\r\n\r\n  // Retourne un objet vide pour indiquer que la déconnexion a réussi\r\n  return {};\r\n});\r\n\r\n/*import { createAsyncThunk } from \"@reduxjs/toolkit\";\r\n\r\n// Action pour la connexion\r\nexport const signIn = createAsyncThunk(\r\n  \"auth/signIn\",\r\n  async ({ email, password }, thunkAPI) => {\r\n    try {\r\n      // Appel API pour la connexion\r\n      const response = await fetch(\"http://localhost:3001/api/v1/user/login\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ email, password }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        // Gestion des erreurs de l'API, transmettre correctment au  reducer\r\n        const error = await response.json();\r\n        thunkAPI.rejectWithValue({ erreur: error.value });\r\n        console.log(error);\r\n      }\r\n\r\n      const user = await response.json();\r\n      return user;\r\n    } catch (error) {\r\n      // Gestion des erreurs réseau\r\n      thunkAPI.rejectWithValue({ erreur: error.value });\r\n      console.log(error);\r\n    }\r\n  }\r\n);\r\n\r\n// Action pour la déconnexion\r\nexport const signOut = createAsyncThunk(\"auth/signOut\", async () => {\r\n  // Appel API pour la déconnexion\r\n  await fetch(\"/api/logout\", {\r\n    method: \"POST\",\r\n  });\r\n\r\n  // Retourne un objet vide pour indiquer que la déconnexion a réussi\r\n  return {};\r\n});*/\r\n"],"mappings":"AAAA,SAASA,gBAAgB,QAAQ,kBAAkB;;AAEnD;AACA,OAAO,MAAMC,MAAM,GAAGD,gBAAgB,CACpC,aAAa,EACb,OAAO;EAAEE,KAAK;EAAEC;AAAS,CAAC,EAAEC,QAAQ,KAAK;EACvC,IAAI;IACF;IACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,yCAAyC,EAAE;MACtEC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAET,KAAK;QAAEC;MAAS,CAAC;IAC1C,CAAC,CAAC;IAEF,IAAI,CAACE,QAAQ,CAACO,EAAE,EAAE;MAChB;MACA,MAAMC,KAAK,GAAG,MAAMR,QAAQ,CAACS,IAAI,CAAC,CAAC;MACnC,OAAOV,QAAQ,CAACW,eAAe,CAAC;QAAEC,MAAM,EAAEH,KAAK,CAACI;MAAM,CAAC,CAAC;IAC1D;IAEA,MAAMC,IAAI,GAAG,MAAMb,QAAQ,CAACS,IAAI,CAAC,CAAC;IAClC,OAAOI,IAAI;EACb,CAAC,CAAC,OAAOL,KAAK,EAAE;IACd;IACA,OAAOT,QAAQ,CAACW,eAAe,CAAC;MAAEC,MAAM,EAAEH,KAAK,CAACI;IAAM,CAAC,CAAC;EAC1D;AACF,CACF,CAAC;AAED,OAAO,MAAME,cAAc,GAAGnB,gBAAgB,CAC5C,qBAAqB,EACrB,OAAOoB,IAAI,EAAEhB,QAAQ,KAAK;EACxB,IAAI;IACF;IACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAC1B,2CAA2C,EAC3C;MACEC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACS,IAAI;IAC3B,CACF,CAAC;IAED,IAAI,CAACf,QAAQ,CAACO,EAAE,EAAE;MAChB;MACA,MAAMC,KAAK,GAAG,MAAMR,QAAQ,CAACS,IAAI,CAAC,CAAC;MACnC,OAAOV,QAAQ,CAACW,eAAe,CAAC;QAAEC,MAAM,EAAEH,KAAK,CAACI;MAAM,CAAC,CAAC;IAC1D;IAEA,MAAMI,WAAW,GAAG,MAAMhB,QAAQ,CAACS,IAAI,CAAC,CAAC;IACzC,OAAOO,WAAW;EACpB,CAAC,CAAC,OAAOR,KAAK,EAAE;IACd;IACA,OAAOT,QAAQ,CAACW,eAAe,CAAC;MAAEC,MAAM,EAAEH,KAAK,CAACI;IAAM,CAAC,CAAC;EAC1D;AACF,CACF,CAAC;;AAED;AACA,OAAO,MAAMK,OAAO,GAAGtB,gBAAgB,CAAC,cAAc,EAAE,YAAY;EAClE;EACA,MAAMM,KAAK,CAAC,aAAa,EAAE;IACzBC,MAAM,EAAE;EACV,CAAC,CAAC;;EAEF;EACA,OAAO,CAAC,CAAC;AACX,CAAC,CAAC;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}