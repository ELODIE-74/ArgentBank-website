{"ast":null,"code":"// actions/updateprofilAction.js\n// début de requête de mse à jour (demande d'envoi)\nexport const UPDATE_USER_PROFILE_START = \"UPDATE_USER_PROFILE_START\";\n// si  réponse API retourne OK = success\nexport const UPDATE_USER_PROFILE_SUCCESS = \"UPDATE_USER_PROFILE_SUCCESS\";\n// gestion des erreurs dans la requête en cas d'échec\nexport const UPDATE_USER_PROFILE_ERROR = \"UPDATE_USER_PROFILE_ERROR\";\n\n//mettre une méthode asynchrone pour mieux gérer les promesses, début de requête\nexport const updateUserProfile = updatedUserInfo => async dispatch => {\n  dispatch({\n    type: UPDATE_USER_PROFILE_START\n  });\n  try {\n    // Appel API pour mettre à jour le profil de l'utilisateur\n    const response = await fetch(\"http://localhost:3001/api/v1/user/profil\", {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(updatedUserInfo)\n    });\n    //si la réponse n'est pas correcte, gestion de l'erreur et affichage du message\n    if (!response.ok) {\n      throw new Error(\"Erreur lors de la mise à jour du profil\");\n    }\n    //si ok réussi, mise a jour et envoie des nouvelles données\n    //mettre un message de confirmation d'envoi réussi pour l'utlisateur\n    const data = await response.json();\n    dispatch({\n      type: UPDATE_USER_PROFILE_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: UPDATE_USER_PROFILE_ERROR,\n      payload: error.message\n    });\n  }\n};","map":{"version":3,"names":["UPDATE_USER_PROFILE_START","UPDATE_USER_PROFILE_SUCCESS","UPDATE_USER_PROFILE_ERROR","updateUserProfile","updatedUserInfo","dispatch","type","response","fetch","method","headers","body","JSON","stringify","ok","Error","data","json","payload","error","message"],"sources":["C:/Users/elodi/OneDrive/Documents/ArgentBank-website/FrontEnd/src/actions/updateprofileAction.js"],"sourcesContent":["// actions/updateprofilAction.js\r\n// début de requête de mse à jour (demande d'envoi)\r\nexport const UPDATE_USER_PROFILE_START = \"UPDATE_USER_PROFILE_START\";\r\n// si  réponse API retourne OK = success\r\nexport const UPDATE_USER_PROFILE_SUCCESS = \"UPDATE_USER_PROFILE_SUCCESS\";\r\n// gestion des erreurs dans la requête en cas d'échec\r\nexport const UPDATE_USER_PROFILE_ERROR = \"UPDATE_USER_PROFILE_ERROR\";\r\n\r\n//mettre une méthode asynchrone pour mieux gérer les promesses, début de requête\r\nexport const updateUserProfile = (updatedUserInfo) => async (dispatch) => {\r\n  dispatch({ type: UPDATE_USER_PROFILE_START });\r\n\r\n  try {\r\n    // Appel API pour mettre à jour le profil de l'utilisateur\r\n    const response = await fetch(\"http://localhost:3001/api/v1/user/profil\", {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(updatedUserInfo),\r\n    });\r\n    //si la réponse n'est pas correcte, gestion de l'erreur et affichage du message\r\n    if (!response.ok) {\r\n      throw new Error(\"Erreur lors de la mise à jour du profil\");\r\n    }\r\n    //si ok réussi, mise a jour et envoie des nouvelles données\r\n    //mettre un message de confirmation d'envoi réussi pour l'utlisateur\r\n    const data = await response.json();\r\n    dispatch({ type: UPDATE_USER_PROFILE_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({ type: UPDATE_USER_PROFILE_ERROR, payload: error.message });\r\n  }\r\n};\r\n"],"mappings":"AAAA;AACA;AACA,OAAO,MAAMA,yBAAyB,GAAG,2BAA2B;AACpE;AACA,OAAO,MAAMC,2BAA2B,GAAG,6BAA6B;AACxE;AACA,OAAO,MAAMC,yBAAyB,GAAG,2BAA2B;;AAEpE;AACA,OAAO,MAAMC,iBAAiB,GAAIC,eAAe,IAAK,MAAOC,QAAQ,IAAK;EACxEA,QAAQ,CAAC;IAAEC,IAAI,EAAEN;EAA0B,CAAC,CAAC;EAE7C,IAAI;IACF;IACA,MAAMO,QAAQ,GAAG,MAAMC,KAAK,CAAC,0CAA0C,EAAE;MACvEC,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACT,eAAe;IACtC,CAAC,CAAC;IACF;IACA,IAAI,CAACG,QAAQ,CAACO,EAAE,EAAE;MAChB,MAAM,IAAIC,KAAK,CAAC,yCAAyC,CAAC;IAC5D;IACA;IACA;IACA,MAAMC,IAAI,GAAG,MAAMT,QAAQ,CAACU,IAAI,CAAC,CAAC;IAClCZ,QAAQ,CAAC;MAAEC,IAAI,EAAEL,2BAA2B;MAAEiB,OAAO,EAAEF;IAAK,CAAC,CAAC;EAChE,CAAC,CAAC,OAAOG,KAAK,EAAE;IACdd,QAAQ,CAAC;MAAEC,IAAI,EAAEJ,yBAAyB;MAAEgB,OAAO,EAAEC,KAAK,CAACC;IAAQ,CAAC,CAAC;EACvE;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}